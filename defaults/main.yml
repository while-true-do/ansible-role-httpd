---
# defaults/main.yml for httpd
# 
# You can set the state to ["present"|"absent"|"latest"]
wtd_httpd_state: "present"
wtd_httpd_packages: "httpd"

# Special Pages
wtd_httpd_welcome_page: False
wtd_httpd_autoindex_page: False
wtd_httpd_userdir_page: False
wtd_httpd_userdir_path: "public_html"

# Configure httpd Configs
## https://httpd.apache.org/docs/2.4/configuring.html
wtd_httpd_httpd_conf_ServerName: "{{ inventory_hostname }}"
wtd_httpd_httpd_conf_ServerAdmin: "root@localhost"
wtd_httpd_httpd_conf_ServerRoot: "/etc/httpd"
wtd_httpd_httpd_conf_User: "apache"
wtd_httpd_httpd_conf_Group: "apache"
wtd_httpd_httpd_conf_PidFile: "run/httpd.pid"

wtd_httpd_httpd_conf_ServerTokens: "prod"
wtd_httpd_httpd_conf_ServerSignature: "off"
wtd_httpd_httpd_conf_UseCanonicalName: "on"
wtd_httpd_httpd_conf_AddDefaultCharset: "UTF-8"
wtd_httpd_httpd_conf_TraceEnable: "Off"

wtd_httpd_httpd_conf_Listen: "127.0.0.1:80"

wtd_httpd_httpd_conf_Timeout: "20"
wtd_httpd_httpd_conf_MaxRequestWorkers: "100"

wtd_httpd_httpd_conf_ModulesPath: "conf.modules.d/*.conf"

wtd_httpd_httpd_conf_ErrorLog: "logs/error.log"
wtd_httpd_httpd_conf_LogLevel: "warn"
wtd_httpd_httpd_conf_LogFormatCombined: '"%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined'
wtd_httpd_httpd_conf_LogFormatCommon: '"%h %l %u %t \"%r\" %>s %b" common'
wtd_httpd_httpd_conf_AccessLog: "logs/access.log combined"

wtd_httpd_httpd_conf_DocumentRoot: "/var/www/html"

wtd_httpd_httpd_conf_ConfigPath: "conf.d/*.conf"

# Configure Default Modules
## Built-in Modules
## https://httpd.apache.org/docs/2.4/mod/mod_cache.html
wtd_httpd_mod_cache: True
wtd_httpd_mod_autoindex: False
wtd_httpd_mod_include: False
wtd_httpd_mod_info: False

# Install / Configure Additional Modules
## http://www.modssl.org/
wtd_httpd_mod_ssl_state: "present"
wtd_httpd_mod_ssl_packages: "mod_ssl"

## https://modsecurity.org/
wtd_httpd_mod_security_state: "present"
wtd_httpd_mod_security_packages: "mod_security"
